---
import IndexPage from "../../layouts/IndexPage.astro";
import { sortPostsAlphabetically } from "../../utils/sortPostsAlphabetically";
import { getCollectionByName } from "../../utils/getCollectionByName";

let posts = await getCollectionByName("books");

let sortedPosts = sortPostsAlphabetically(posts);

---

<IndexPage frontmatter={{ comment: false, title: "Book Notes" }}>
  <h1 class="text-3xl mb-5 font-bold">Book Notes.</h1>
  <p class="mb-5">I share either a full book review or a single-chapter note from the books I read.</p>

  <p class="mb-10">You can get new book notes in your favorite RSS reader via <a class="truncate mt-1 header-link-active cursor-pointer decoration-skin-base hover:text-skin-active" href="/books/rss.xml">the dedicated RSS feed</a>.</p>

  <div class="divider-horizontal"/>
  <div>
    <ul>
      {
        sortedPosts.map((post) => (
        <div>
          <li class="mb-3 content-item" data-collection={post.collection} style="display: list-item;">
            <i class="ri-book-line mr-2 mt-2 text-xl" />
              <strong>
                <a class="underline-offset-4 cursor-pointer decoration-skin-base decoration-wavy hover:underline hover:decoration-sky-500" href={'/books/' + post.slug}>
                  {post.data.title}
                </a>
              </strong>

          </li>
        </div>
        ))
      }
    </ul>
  </div>
</IndexPage>